<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.78">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="This module contains payoff matrices for different evolutionary games">

<title>gh-pages-example - Payoff Matrices (part 1)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="gh-pages-example - Payoff Matrices (part 1)">
<meta property="og:description" content="This module contains payoff matrices for different evolutionary games">
<meta property="og:site-name" content="gh-pages-example">
<meta name="twitter:title" content="gh-pages-example - Payoff Matrices (part 1)">
<meta name="twitter:description" content="This module contains payoff matrices for different evolutionary games">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">gh-pages-example</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../blog/index.html" rel="" target="">
 <span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog/index.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/paolobova/gh-pages-example" rel="" target=""><i class="bi bi-github" role="img" aria-label="Github respository">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Payoff Matrices (part 1)</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analytical_conditions.html" class="sidebar-item-text sidebar-link">Analytical conditions</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../data_utils.html" class="sidebar-item-text sidebar-link">Data utilities</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../methods.html" class="sidebar-item-text sidebar-link">Methods in Evolutionary Game Theory</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../model_utils.html" class="sidebar-item-text sidebar-link">Model Utilities</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../plots_utils.html" class="sidebar-item-text sidebar-link">Plot utilities</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../types.html" class="sidebar-item-text sidebar-link">Types</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../utils.html" class="sidebar-item-text sidebar-link">Utilities</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">Methods</span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../Payoffs/index.html" class="sidebar-item-text sidebar-link">Payoffs</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Payoffs/payoffs1.html" class="sidebar-item-text sidebar-link active">Payoff Matrices (part 1)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Payoffs/payoffs2.html" class="sidebar-item-text sidebar-link">Payoff Matrices (part 2)</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../Analysis/index.html" class="sidebar-item-text sidebar-link">Analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Analysis/analysis_dsair.html" class="sidebar-item-text sidebar-link">Analysis of the DSAIR model</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#dsair-model-paramaters" id="toc-dsair-model-paramaters" class="nav-link active" data-scroll-target="#dsair-model-paramaters">DSAIR Model Paramaters</a>
  <ul>
  <li><a href="#modeltypedsair" id="toc-modeltypedsair" class="nav-link" data-scroll-target="#modeltypedsair">ModelTypeDSAIR</a></li>
  <li><a href="#array1d" id="toc-array1d" class="nav-link" data-scroll-target="#array1d">Array1D</a></li>
  <li><a href="#build_dsair" id="toc-build_dsair" class="nav-link" data-scroll-target="#build_dsair">build_DSAIR</a></li>
  </ul></li>
  <li><a href="#dsair-payoff-matrix-short-run" id="toc-dsair-payoff-matrix-short-run" class="nav-link" data-scroll-target="#dsair-payoff-matrix-short-run">DSAIR Payoff Matrix (Short Run)</a>
  <ul>
  <li><a href="#payoffs_sr" id="toc-payoffs_sr" class="nav-link" data-scroll-target="#payoffs_sr">payoffs_sr</a></li>
  </ul></li>
  <li><a href="#dsair-payoff-matrix-short-run-with-probability-of-being-found-out" id="toc-dsair-payoff-matrix-short-run-with-probability-of-being-found-out" class="nav-link" data-scroll-target="#dsair-payoff-matrix-short-run-with-probability-of-being-found-out">DSAIR Payoff Matrix (Short Run) with probability of being found out</a>
  <ul>
  <li><a href="#payoffs_sr_pfo_extension" id="toc-payoffs_sr_pfo_extension" class="nav-link" data-scroll-target="#payoffs_sr_pfo_extension">payoffs_sr_pfo_extension</a></li>
  </ul></li>
  <li><a href="#dsair-payoff-matrix-long-run" id="toc-dsair-payoff-matrix-long-run" class="nav-link" data-scroll-target="#dsair-payoff-matrix-long-run">DSAIR Payoff Matrix (Long Run)</a>
  <ul>
  <li><a href="#payoffs_lr" id="toc-payoffs_lr" class="nav-link" data-scroll-target="#payoffs_lr">payoffs_lr</a></li>
  </ul></li>
  <li><a href="#dsair-payoff-matrix-with-punishments-long-run" id="toc-dsair-payoff-matrix-with-punishments-long-run" class="nav-link" data-scroll-target="#dsair-payoff-matrix-with-punishments-long-run">DSAIR Payoff Matrix with punishments (Long Run)</a>
  <ul>
  <li><a href="#punished_and_sanctioned_payoffs" id="toc-punished_and_sanctioned_payoffs" class="nav-link" data-scroll-target="#punished_and_sanctioned_payoffs">punished_and_sanctioned_payoffs</a></li>
  <li><a href="#payoffs_lr_peer_punishment" id="toc-payoffs_lr_peer_punishment" class="nav-link" data-scroll-target="#payoffs_lr_peer_punishment">payoffs_lr_peer_punishment</a></li>
  <li><a href="#expressions-for-the-sanctioner-and-punished-payoffs" id="toc-expressions-for-the-sanctioner-and-punished-payoffs" class="nav-link" data-scroll-target="#expressions-for-the-sanctioner-and-punished-payoffs">Expressions for the sanctioner and punished payoffs</a></li>
  </ul></li>
  <li><a href="#dsair-payoff-matrix-with-rewards-long-run" id="toc-dsair-payoff-matrix-with-rewards-long-run" class="nav-link" data-scroll-target="#dsair-payoff-matrix-with-rewards-long-run">DSAIR Payoff Matrix with rewards (Long Run)</a>
  <ul>
  <li><a href="#payoffs_lr_peer_reward" id="toc-payoffs_lr_peer_reward" class="nav-link" data-scroll-target="#payoffs_lr_peer_reward">payoffs_lr_peer_reward</a></li>
  </ul></li>
  <li><a href="#dsair-payoff-matrix-with-voluntary-commitments-long-run" id="toc-dsair-payoff-matrix-with-voluntary-commitments-long-run" class="nav-link" data-scroll-target="#dsair-payoff-matrix-with-voluntary-commitments-long-run">DSAIR Payoff Matrix with voluntary commitments (Long Run)</a>
  <ul>
  <li><a href="#payoffs_lr_voluntary" id="toc-payoffs_lr_voluntary" class="nav-link" data-scroll-target="#payoffs_lr_voluntary">payoffs_lr_voluntary</a></li>
  </ul></li>
  <li><a href="#dsair-payoff-matrix-long-run-with-collective-risk" id="toc-dsair-payoff-matrix-long-run-with-collective-risk" class="nav-link" data-scroll-target="#dsair-payoff-matrix-long-run-with-collective-risk">DSAIR Payoff Matrix (Long Run) with collective risk</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/PaoloBova/gh-pages-example/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Payoff Matrices (part 1)</h1>
</div>

<div>
  <div class="description">
    This module contains payoff matrices for different evolutionary games
  </div>
</div>


<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(suppress<span class="op">=</span><span class="va">True</span>) <span class="co"># don't use scientific notation</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="dsair-model-paramaters" class="level2">
<h2 class="anchored" data-anchor-id="dsair-model-paramaters">DSAIR Model Paramaters</h2>
<table class="table">
<colgroup>
<col style="width: 17%">
<col style="width: 23%">
<col style="width: 13%">
<col style="width: 19%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>keyword</th>
<th>value type</th>
<th>range</th>
<th>optional</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>b</td>
<td>NDArray</td>
<td>b &gt; 0</td>
<td></td>
<td>The size of the per round benefit of leading the AI development race</td>
</tr>
<tr class="even">
<td>c</td>
<td>NDArray</td>
<td>c &gt; 0</td>
<td></td>
<td>The cost of implementing safety recommendations per round</td>
</tr>
<tr class="odd">
<td>s</td>
<td>NDArray</td>
<td>s &gt; 1</td>
<td></td>
<td>The speed advantage from choosing to ignore safety recommendations</td>
</tr>
<tr class="even">
<td>p</td>
<td>NDArray</td>
<td>[0, 1]</td>
<td></td>
<td>The probability that unsafe firms avoid an AI disaster</td>
</tr>
<tr class="odd">
<td>B</td>
<td>NDArray</td>
<td>B &gt;&gt; b</td>
<td></td>
<td>The size of the prize from winning the AI development race</td>
</tr>
<tr class="even">
<td>W</td>
<td>NDArray</td>
<td><span class="math display">\[[10, 10^6]\]</span></td>
<td></td>
<td>The anticipated timeline until the development race has a winner if everyone behaves safely</td>
</tr>
<tr class="odd">
<td>pfo</td>
<td>NDArray</td>
<td>[0, 1]</td>
<td>Yes</td>
<td>The probability that firms who ignore safety precautions are found out</td>
</tr>
<tr class="even">
<td>epsilon</td>
<td>NDArray</td>
<td>ϵ &gt; 0</td>
<td>Yes</td>
<td>The cost of setting up a voluntary commitment</td>
</tr>
<tr class="odd">
<td>ω</td>
<td>NDArray</td>
<td>[0, 1]</td>
<td>Yes</td>
<td>Noise in arranging an agreement, with some probability they fail to succeed in making an agreement</td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/PaoloBova/gh-pages-example/blob/main/gh_pages_example/types.py#LNone" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="modeltypedsair" class="level3">
<h3 class="anchored" data-anchor-id="modeltypedsair">ModelTypeDSAIR</h3>
<blockquote class="blockquote">
<pre><code> ModelTypeDSAIR (b:gh_pages_example.types.Array1D,
                 c:gh_pages_example.types.Array1D,
                 s:gh_pages_example.types.Array1D,
                 p:gh_pages_example.types.Array1D,
                 B:gh_pages_example.types.Array1D,
                 W:gh_pages_example.types.Array1D,
                 pfo:gh_pages_example.types.Array1D=None,
                 α:gh_pages_example.types.Array1D=None,
                 γ:gh_pages_example.types.Array1D=None,
                 epsilon:gh_pages_example.types.Array1D=None,
                 ω:gh_pages_example.types.Array1D=None,
                 collective_risk:gh_pages_example.types.Array1D=None)</code></pre>
</blockquote>
<p>This is the schema for the inputs to a DSAIR model.</p>
<p>Note: This schema is not enforced and is here purely for documentation purposes.</p>
<table class="table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>b</td>
<td>Array1D</td>
<td></td>
<td>benefit: The size of the per round benefit of leading the AI development race, b&gt;0</td>
</tr>
<tr class="even">
<td>c</td>
<td>Array1D</td>
<td></td>
<td>cost: The cost of implementing safety recommendations per round, c&gt;0</td>
</tr>
<tr class="odd">
<td>s</td>
<td>Array1D</td>
<td></td>
<td>speed: The speed advantage from choosing to ignore safety recommendations, s&gt;1</td>
</tr>
<tr class="even">
<td>p</td>
<td>Array1D</td>
<td></td>
<td>avoid_risk: The probability that unsafe firms avoid an AI disaster, p ∈ [0, 1]</td>
</tr>
<tr class="odd">
<td>B</td>
<td>Array1D</td>
<td></td>
<td>prize: The size of the prize from winning the AI development race, B&gt;&gt;b</td>
</tr>
<tr class="even">
<td>W</td>
<td>Array1D</td>
<td></td>
<td>timeline: The anticipated timeline until the development race has a winner if everyone behaves safely, W ∈ [10, 10**6]</td>
</tr>
<tr class="odd">
<td>pfo</td>
<td>Array1D</td>
<td>None</td>
<td>detection risk: The probability that firms who ignore safety precautions are found out, pfo ∈ [0, 1]</td>
</tr>
<tr class="even">
<td>α</td>
<td>Array1D</td>
<td>None</td>
<td>the cost of rewarding/punishing a peer</td>
</tr>
<tr class="odd">
<td>γ</td>
<td>Array1D</td>
<td>None</td>
<td>the effect of a reward/punishment on a developer’s speed</td>
</tr>
<tr class="even">
<td>epsilon</td>
<td>Array1D</td>
<td>None</td>
<td>commitment_cost: The cost of setting up and maintaining a voluntary commitment, ϵ &gt; 0</td>
</tr>
<tr class="odd">
<td>ω</td>
<td>Array1D</td>
<td>None</td>
<td>noise: Noise in arranging an agreement, with some probability they fail to succeed in making an agreement, ω ∈ [0, 1]</td>
</tr>
<tr class="even">
<td>collective_risk</td>
<td>Array1D</td>
<td>None</td>
<td>The likelihood that a disaster affects all actors</td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/PaoloBova/gh-pages-example/blob/main/gh_pages_example/types.py#LNone" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="array1d" class="level3">
<h3 class="anchored" data-anchor-id="array1d">Array1D</h3>
<blockquote class="blockquote">
<pre><code> Array1D (ModelVector:nptyping.base_meta_classes.NDArray)</code></pre>
</blockquote>
<p>An alias for a 1D numpy array.</p>
<table class="table">
<colgroup>
<col style="width: 9%">
<col style="width: 38%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ModelVector</td>
<td>NDArray</td>
<td>A 1D numpy array suitable for stacks of scalar parameter values</td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/PaoloBova/gh-pages-example/blob/main/gh_pages_example/payoffs.py#L19" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="build_dsair" class="level3">
<h3 class="anchored" data-anchor-id="build_dsair">build_DSAIR</h3>
<blockquote class="blockquote">
<pre><code> build_DSAIR (b:Union[float,list[float],numpy.ndarray,dict]=4,
              c:Union[float,list[float],numpy.ndarray,dict]=1,
              s:Union[float,list[float],numpy.ndarray,dict]={'start': 1,
              'stop': 5.1, 'step': 0.1},
              p:Union[float,list[float],numpy.ndarray,dict]={'start': 0,
              'stop': 1.02, 'step': 0.02},
              B:Union[float,list[float],numpy.ndarray,dict]=10000,
              W:Union[float,list[float],numpy.ndarray,dict]=100,
              pfo:Union[float,list[float],numpy.ndarray,dict]=0,
              α:Union[float,list[float],numpy.ndarray,dict]=0,
              γ:Union[float,list[float],numpy.ndarray,dict]=0,
              epsilon:Union[float,list[float],numpy.ndarray,dict]=0,
              ω:Union[float,list[float],numpy.ndarray,dict]=0, collective_
              risk:Union[float,list[float],numpy.ndarray,dict]=0,
              β:Union[float,list[float],numpy.ndarray,dict]=0.01,
              Z:int=100, strategy_set:list[str]=['AS', 'AU'],
              exclude_args:list[str]=['Z', 'strategy_set'],
              override:bool=False, drop_args:list[str]=['override',
              'exclude_args', 'drop_args'])</code></pre>
</blockquote>
<p>Initialise baseline DSAIR models for all combinations of the provided parameter valules. By default, we create models for replicating Figure 1 of Han et al.&nbsp;2021.</p>
<table class="table">
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>b</td>
<td>typing.Union[float, list[float], numpy.ndarray, dict]</td>
<td>4</td>
<td>benefit: The size of the per round benefit of leading the AI development race, b&gt;0</td>
</tr>
<tr class="even">
<td>c</td>
<td>typing.Union[float, list[float], numpy.ndarray, dict]</td>
<td>1</td>
<td>cost: The cost of implementing safety recommendations per round, c&gt;0</td>
</tr>
<tr class="odd">
<td>s</td>
<td>typing.Union[float, list[float], numpy.ndarray, dict]</td>
<td>{‘start’: 1, ‘stop’: 5.1, ‘step’: 0.1}</td>
<td>speed: The speed advantage from choosing to ignore safety recommendations, s&gt;1</td>
</tr>
<tr class="even">
<td>p</td>
<td>typing.Union[float, list[float], numpy.ndarray, dict]</td>
<td>{‘start’: 0, ‘stop’: 1.02, ‘step’: 0.02}</td>
<td>avoid_risk: The probability that unsafe firms avoid an AI disaster, p ∈ [0, 1]</td>
</tr>
<tr class="odd">
<td>B</td>
<td>typing.Union[float, list[float], numpy.ndarray, dict]</td>
<td>10000</td>
<td>prize: The size of the prize from winning the AI development race, B&gt;&gt;b</td>
</tr>
<tr class="even">
<td>W</td>
<td>typing.Union[float, list[float], numpy.ndarray, dict]</td>
<td>100</td>
<td>timeline: The anticipated timeline until the development race has a winner if everyone behaves safely, W ∈ [10, 10**6]</td>
</tr>
<tr class="odd">
<td>pfo</td>
<td>typing.Union[float, list[float], numpy.ndarray, dict]</td>
<td>0</td>
<td>detection risk: The probability that firms who ignore safety precautions are found out, pfo ∈ [0, 1]</td>
</tr>
<tr class="even">
<td>α</td>
<td>typing.Union[float, list[float], numpy.ndarray, dict]</td>
<td>0</td>
<td>the cost of rewarding/punishing a peer</td>
</tr>
<tr class="odd">
<td>γ</td>
<td>typing.Union[float, list[float], numpy.ndarray, dict]</td>
<td>0</td>
<td>the effect of a reward/punishment on a developer’s speed</td>
</tr>
<tr class="even">
<td>epsilon</td>
<td>typing.Union[float, list[float], numpy.ndarray, dict]</td>
<td>0</td>
<td>commitment_cost: The cost of setting up and maintaining a voluntary commitment, ϵ &gt; 0</td>
</tr>
<tr class="odd">
<td>ω</td>
<td>typing.Union[float, list[float], numpy.ndarray, dict]</td>
<td>0</td>
<td>noise: Noise in arranging an agreement, with some probability they fail to succeed in making an agreement, ω ∈ [0, 1]</td>
</tr>
<tr class="even">
<td>collective_risk</td>
<td>typing.Union[float, list[float], numpy.ndarray, dict]</td>
<td>0</td>
<td>The likelihood that a disaster affects all actors</td>
</tr>
<tr class="odd">
<td>β</td>
<td>typing.Union[float, list[float], numpy.ndarray, dict]</td>
<td>0.01</td>
<td>learning_rate: the rate at which players imitate each other</td>
</tr>
<tr class="even">
<td>Z</td>
<td>int</td>
<td>100</td>
<td>population_size: the number of players in the evolutionary game</td>
</tr>
<tr class="odd">
<td>strategy_set</td>
<td>list</td>
<td>[‘AS’, ‘AU’]</td>
<td>the set of available strategies</td>
</tr>
<tr class="even">
<td>exclude_args</td>
<td>list</td>
<td>[‘Z’, ‘strategy_set’]</td>
<td>a list of arguments that should be returned as they are</td>
</tr>
<tr class="odd">
<td>override</td>
<td>bool</td>
<td>False</td>
<td>whether to build the grid if it is very large</td>
</tr>
<tr class="even">
<td>drop_args</td>
<td>list</td>
<td>[‘override’, ‘exclude_args’, ‘drop_args’]</td>
<td>a list of arguments to drop from the final result</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>dict</strong></td>
<td></td>
<td><strong>A dictionary containing items from <a href="https://PaoloBova.github.io/gh-pages-example/types.html#modeltypedsair"><code>ModelTypeDSAIR</code></a> and <a href="https://PaoloBova.github.io/gh-pages-example/methods.html#modeltypeegt"><code>ModelTypeEGT</code></a></strong></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="dsair-payoff-matrix-short-run" class="level2">
<h2 class="anchored" data-anchor-id="dsair-payoff-matrix-short-run">DSAIR Payoff Matrix (Short Run)</h2>
<table class="table">
<thead>
<tr class="header">
<th>Strategy</th>
<th>Safe</th>
<th>Unsafe</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Safe</strong></td>
<td><span class="math display">\[\frac{b}{2} - c\]</span></td>
<td><span class="math display">\[\frac{b}{s+1} - c\]</span></td>
</tr>
<tr class="even">
<td><strong>Unsafe</strong></td>
<td><span class="math display">\[b \frac{s}{s+1}\]</span></td>
<td><span class="math display">\[\frac{b}{2} \]</span></td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/PaoloBova/gh-pages-example/blob/main/gh_pages_example/payoffs.py#L54" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="payoffs_sr" class="level3">
<h3 class="anchored" data-anchor-id="payoffs_sr">payoffs_sr</h3>
<blockquote class="blockquote">
<pre><code> payoffs_sr (models:dict)</code></pre>
</blockquote>
<p>The short run payoffs for the DSAIR game.</p>
<table class="table">
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>models</td>
<td>dict</td>
<td>A dictionary containing the items in <a href="https://PaoloBova.github.io/gh-pages-example/types.html#modeltypedsair"><code>ModelTypeDSAIR</code></a></td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>dict</strong></td>
<td><strong>The <code>models</code> dictionary with added payoff matrix <a href="https://PaoloBova.github.io/gh-pages-example/Payoffs/payoffs1.html#payoffs_sr"><code>payoffs_sr</code></a></strong></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="dsair-payoff-matrix-short-run-with-probability-of-being-found-out" class="level2">
<h2 class="anchored" data-anchor-id="dsair-payoff-matrix-short-run-with-probability-of-being-found-out">DSAIR Payoff Matrix (Short Run) with probability of being found out</h2>
<table class="table">
<colgroup>
<col style="width: 62%">
<col style="width: 18%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Strategy</th>
<th>Safe</th>
<th>Unsafe</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Safe</strong></td>
<td><span class="math display">\[\frac{b}{2} - c\]</span></td>
<td><span class="math display">\[(1 - p_{fo}) \frac{b}{s+1} + p_{fo} b - c\]</span></td>
</tr>
<tr class="even">
<td><strong>Unsafe</strong></td>
<td><span class="math display">\[ (1 - p_{fo}) b \frac{s}{s+1}\]</span></td>
<td><span class="math display">\[(1 - p_{fo}^2) \frac{b}{2} \]</span></td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/PaoloBova/gh-pages-example/blob/main/gh_pages_example/payoffs.py#L73" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="payoffs_sr_pfo_extension" class="level3">
<h3 class="anchored" data-anchor-id="payoffs_sr_pfo_extension">payoffs_sr_pfo_extension</h3>
<blockquote class="blockquote">
<pre><code> payoffs_sr_pfo_extension (models)</code></pre>
</blockquote>
<p>The short run payoffs for the DSAIR game with a chance of unsafe behaviour being spotted.</p>
</section>
</section>
<section id="dsair-payoff-matrix-long-run" class="level2">
<h2 class="anchored" data-anchor-id="dsair-payoff-matrix-long-run">DSAIR Payoff Matrix (Long Run)</h2>
<p>Denote <span class="math inline">\(\pi\)</span> as one of the short run payoff matrices discussed above with rows and columns indexed by letters A, B, …</p>
<table class="table">
<colgroup>
<col style="width: 62%">
<col style="width: 18%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Strategy</th>
<th>Always Safe</th>
<th>Always Unsafe</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Always Safe</strong></td>
<td><span class="math display">\[πAA + \frac{B}{2W}\]</span></td>
<td><span class="math display">\[πAB\]</span></td>
</tr>
<tr class="even">
<td><strong>Always Unsafe</strong></td>
<td><span class="math display">\[p \, (s \frac{B}{W} + πBA)\]</span></td>
<td><span class="math display">\[p \, (s \frac{B}{2W} + πBB)\]</span></td>
</tr>
</tbody>
</table>
<p><em>Note: In a model where we suffer a collective risk of an AI disaster if the winner is unsafe, payoffs for firms who play safe when facing an unsafe firm are also multiplied by <span class="math inline">\(p\)</span>.</em></p>
<hr>
<p><a href="https://github.com/PaoloBova/gh-pages-example/blob/main/gh_pages_example/payoffs.py#L92" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="payoffs_lr" class="level3">
<h3 class="anchored" data-anchor-id="payoffs_lr">payoffs_lr</h3>
<blockquote class="blockquote">
<pre><code> payoffs_lr (models:dict)</code></pre>
</blockquote>
<p>The long run average payoffs for the DSAIR game.</p>
<table class="table">
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>models</td>
<td>dict</td>
<td>A dictionary containing the items in <a href="https://PaoloBova.github.io/gh-pages-example/types.html#modeltypedsair"><code>ModelTypeDSAIR</code></a></td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>dict</strong></td>
<td><strong>The <code>models</code> dictionary with added payoff matrix <code>payoffs</code></strong></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="dsair-payoff-matrix-with-punishments-long-run" class="level2">
<h2 class="anchored" data-anchor-id="dsair-payoff-matrix-with-punishments-long-run">DSAIR Payoff Matrix with punishments (Long Run)</h2>
<p>Denote <span class="math inline">\(\pi\)</span> as one of the short run payoff matrices discussed above with rows and columns indexed by letters A, B, …</p>
<p><strong>Always Safe</strong> and <strong>Always Unsafe</strong> play as they usually do.</p>
<p><strong>Punish Unsafe</strong> always plays Safe. However, they will pay a cost to punish their co-player if the co-player plays Unsafe.</p>
<table class="table">
<colgroup>
<col style="width: 52%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th>Strategy</th>
<th>Always Safe</th>
<th>Always Unsafe</th>
<th>Punish Unsafe</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Always Safe</strong></td>
<td><span class="math display">\[πAA + \frac{B}{2W}\]</span></td>
<td><span class="math display">\[πAB\]</span></td>
<td><span class="math display">\[πAA + \frac{B}{2W}\]</span></td>
</tr>
<tr class="even">
<td><strong>Always Unsafe</strong></td>
<td><span class="math display">\[p \, (s \frac{B}{W} + πBA)\]</span></td>
<td><span class="math display">\[p \, (s \frac{B}{2W} + πBB)\]</span></td>
<td>punished_payoff</td>
</tr>
<tr class="odd">
<td><strong>Punish Unsafe</strong></td>
<td><span class="math display">\[πAA + \frac{B}{2W}\]</span></td>
<td>sanctioner_payoff</td>
<td><span class="math display">\[πAA + \frac{B}{2W}\]</span></td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/PaoloBova/gh-pages-example/blob/main/gh_pages_example/payoffs.py#L109" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="punished_and_sanctioned_payoffs" class="level3">
<h3 class="anchored" data-anchor-id="punished_and_sanctioned_payoffs">punished_and_sanctioned_payoffs</h3>
<blockquote class="blockquote">
<pre><code> punished_and_sanctioned_payoffs (models:dict)</code></pre>
</blockquote>
<p>Compute the payoffs for the punished and sanctioner players in a DSAIR model with peer punishment.</p>
<table class="table">
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>models</td>
<td>dict</td>
<td>A dictionary containing the items in <a href="https://PaoloBova.github.io/gh-pages-example/types.html#modeltypedsair"><code>ModelTypeDSAIR</code></a></td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>dict</strong></td>
<td><strong>The <code>models</code> dictionary with added payoff matrix <code>payoffs</code>:</strong></td>
</tr>
</tbody>
</table>
<p>Below, I test that we produce expected results for the punished and sanctioned payoffs.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>models <span class="op">=</span> build_DSAIR(b<span class="op">=</span><span class="dv">4</span>,</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>                     c<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                     p<span class="op">=</span><span class="fl">0.25</span>,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                     s<span class="op">=</span><span class="fl">1.5</span>,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>                     B<span class="op">=</span><span class="dv">10</span><span class="op">**</span><span class="dv">4</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>                     W<span class="op">=</span><span class="dv">10</span><span class="op">**</span><span class="dv">2</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>                     pfo<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>                     α<span class="op">=</span>np.array([<span class="dv">0</span>]),</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>                     γ<span class="op">=</span>np.array([<span class="dv">0</span>]),</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>                     β<span class="op">=</span><span class="fl">0.01</span>,</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>                     Z<span class="op">=</span><span class="dv">100</span>,</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>                     strategy_set<span class="op">=</span>[<span class="st">"AS"</span>, <span class="st">"AU"</span>, <span class="st">"PS"</span>],</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>                     collective_risk<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>results <span class="op">=</span> thread_macro(models,</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>                       payoffs_sr,</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>                       punished_and_sanctioned_payoffs)</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>expected_result <span class="op">=</span> (<span class="dv">1</span><span class="op">/</span><span class="dv">4</span> <span class="op">*</span> <span class="dv">3</span> <span class="op">/</span> <span class="dv">200</span> <span class="op">*</span> (<span class="dv">12</span><span class="op">/</span><span class="dv">5</span> <span class="op">+</span> <span class="dv">10</span><span class="op">**</span><span class="dv">4</span> <span class="op">+</span> <span class="dv">197</span><span class="op">/</span><span class="dv">3</span> <span class="op">*</span> <span class="dv">12</span><span class="op">/</span><span class="dv">5</span>))</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>test_eq(results[<span class="st">'punished_payoff'</span>], expected_result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>models <span class="op">=</span> build_DSAIR(b<span class="op">=</span><span class="dv">4</span>,</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                     c<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                     p<span class="op">=</span><span class="fl">0.25</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                     s<span class="op">=</span><span class="fl">1.5</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                     B<span class="op">=</span><span class="dv">10</span><span class="op">**</span><span class="dv">4</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                     W<span class="op">=</span><span class="dv">10</span><span class="op">**</span><span class="dv">2</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>                     pfo<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>                     α<span class="op">=</span> np.arange(<span class="dv">0</span>, <span class="dv">3</span>, <span class="fl">0.1</span>),</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>                     γ<span class="op">=</span> np.arange(<span class="dv">0</span>, <span class="dv">3</span>, <span class="fl">0.1</span>),</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>                     β<span class="op">=</span><span class="fl">0.01</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>                     Z<span class="op">=</span><span class="dv">100</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>                     strategy_set<span class="op">=</span>[<span class="st">"AS"</span>, <span class="st">"AU"</span>, <span class="st">"PS"</span>],</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>                     collective_risk<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>results <span class="op">=</span> thread_macro(models,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>                       payoffs_sr,</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>                       punished_and_sanctioned_payoffs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> expected_fn1(α, γ):</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    p_punish <span class="op">=</span> np.where((<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">-</span> γ) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">1</span>) <span class="op">&gt;</span> (<span class="dv">1</span> <span class="op">-</span> α) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">3</span><span class="op">/</span><span class="dv">2</span>),</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="op">/</span><span class="dv">4</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    origin_speed <span class="op">=</span> np.where((<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">-</span> γ) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">1</span>) <span class="op">&gt;</span> (<span class="dv">1</span> <span class="op">-</span> α) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">3</span><span class="op">/</span><span class="dv">2</span>),</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>                         <span class="dv">3</span><span class="op">/</span><span class="dv">2</span>, </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>                         <span class="dv">1</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    win_speed <span class="op">=</span> np.where((<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">-</span> γ) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">1</span>) <span class="op">&gt;</span> (<span class="dv">1</span> <span class="op">-</span> α) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">3</span><span class="op">/</span><span class="dv">2</span>),</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>                         (<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">-</span> γ), </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>                         (<span class="dv">1</span> <span class="op">-</span> α))</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    Bp <span class="op">=</span> np.where((<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">-</span> γ) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">1</span>) <span class="op">&gt;</span> (<span class="dv">1</span> <span class="op">-</span> α) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">3</span><span class="op">/</span><span class="dv">2</span>),</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>                  <span class="dv">10</span><span class="op">**</span><span class="dv">4</span>,</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>                  np.where((<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">-</span> γ) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">1</span>) <span class="op">==</span> (<span class="dv">1</span> <span class="op">-</span> α) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">3</span><span class="op">/</span><span class="dv">2</span>),</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>                           <span class="dv">10</span><span class="op">**</span><span class="dv">4</span> <span class="op">/</span> <span class="dv">2</span>,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>                           <span class="dv">0</span>))</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    sum_of_speeds <span class="op">=</span> np.maximum(<span class="fl">1e-20</span>, (<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">-</span> γ) <span class="op">+</span> (<span class="dv">1</span> <span class="op">-</span> α))</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    b_p <span class="op">=</span> np.where((<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">&gt;</span> γ) <span class="op">&amp;</span> (<span class="dv">1</span> <span class="op">&gt;</span> α),</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>                   <span class="dv">4</span> <span class="op">*</span> (<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">-</span> γ) <span class="op">/</span> sum_of_speeds,</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>                   np.where((<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">&gt;</span> γ),</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>                            <span class="dv">4</span>,</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>                            <span class="dv">0</span>))</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    R_inv <span class="op">=</span> (np.maximum(<span class="dv">0</span>, win_speed) </span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>                          <span class="op">/</span> (<span class="dv">100</span> <span class="op">-</span> origin_speed <span class="op">+</span> np.maximum(<span class="dv">0</span>, win_speed)))</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>    punished_payoff <span class="op">=</span> (p_punish <span class="op">*</span> R_inv <span class="op">*</span> (<span class="dv">12</span><span class="op">/</span><span class="dv">5</span> <span class="op">+</span> Bp)</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>                       <span class="op">+</span> p_punish <span class="op">*</span> b_p</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>                       <span class="op">-</span> p_punish <span class="op">*</span> b_p <span class="op">*</span> R_inv</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>                      )</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> punished_payoff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>test_close(results[<span class="st">'punished_payoff'</span>][:, <span class="dv">0</span>, <span class="dv">0</span>],</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>           expected_fn1(results[<span class="st">'α'</span>], results[<span class="st">'γ'</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> expected_fn2(α, γ):</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    origin_speed <span class="op">=</span> np.where((<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">-</span> γ) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">1</span>) <span class="op">&gt;</span> (<span class="dv">1</span> <span class="op">-</span> α) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">3</span><span class="op">/</span><span class="dv">2</span>),</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                         <span class="dv">3</span><span class="op">/</span><span class="dv">2</span>, </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                         <span class="dv">1</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    win_speed <span class="op">=</span> np.where((<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">-</span> γ) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">1</span>) <span class="op">&gt;</span> (<span class="dv">1</span> <span class="op">-</span> α) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">3</span><span class="op">/</span><span class="dv">2</span>),</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>                         (<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">-</span> γ), </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>                         (<span class="dv">1</span> <span class="op">-</span> α))</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    Bs <span class="op">=</span> np.where((<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">-</span> γ) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">1</span>) <span class="op">&lt;</span> (<span class="dv">1</span> <span class="op">-</span> α) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">3</span><span class="op">/</span><span class="dv">2</span>),</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>                  <span class="dv">10</span><span class="op">**</span><span class="dv">4</span>,</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>                  np.where((<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">-</span> γ) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">1</span>) <span class="op">==</span> (<span class="dv">1</span> <span class="op">-</span> α) <span class="op">*</span> (<span class="dv">100</span> <span class="op">-</span> <span class="dv">3</span><span class="op">/</span><span class="dv">2</span>),</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>                           <span class="dv">10</span><span class="op">**</span><span class="dv">4</span> <span class="op">/</span> <span class="dv">2</span>,</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>                           <span class="dv">0</span>))</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    sum_of_speeds <span class="op">=</span> np.maximum(<span class="fl">1e-20</span>, (<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">-</span> γ) <span class="op">+</span> (<span class="dv">1</span> <span class="op">-</span> α))</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    b_s <span class="op">=</span> np.where((<span class="dv">3</span><span class="op">/</span><span class="dv">2</span> <span class="op">&gt;</span> γ) <span class="op">&amp;</span> (<span class="dv">1</span> <span class="op">&gt;</span> α),</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>                   <span class="dv">4</span> <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> α) <span class="op">/</span> sum_of_speeds,</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>                   np.where((<span class="dv">1</span> <span class="op">&gt;</span> α),</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>                            <span class="dv">4</span>,</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>                            <span class="dv">0</span>))</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    R_inv <span class="op">=</span> (np.maximum(<span class="dv">0</span>, win_speed) </span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>             <span class="op">/</span> (<span class="dv">100</span> <span class="op">-</span> origin_speed <span class="op">+</span> np.maximum(<span class="dv">0</span>, win_speed)))</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>    punished_payoff <span class="op">=</span> (R_inv <span class="op">*</span> (<span class="dv">3</span><span class="op">/</span><span class="dv">5</span> <span class="op">+</span> Bs)</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>                       <span class="op">+</span> (b_s <span class="op">-</span> <span class="dv">1</span>)</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>                       <span class="op">-</span> (b_s <span class="op">-</span> <span class="dv">1</span>) <span class="op">*</span> R_inv</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>                      )</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> punished_payoff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>test_close(results[<span class="st">'sanctioner_payoff'</span>][:, <span class="dv">0</span>, <span class="dv">0</span>],</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>           expected_fn2(results[<span class="st">'α'</span>], results[<span class="st">'γ'</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/PaoloBova/gh-pages-example/blob/main/gh_pages_example/payoffs.py#L157" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="payoffs_lr_peer_punishment" class="level3">
<h3 class="anchored" data-anchor-id="payoffs_lr_peer_punishment">payoffs_lr_peer_punishment</h3>
<blockquote class="blockquote">
<pre><code> payoffs_lr_peer_punishment (models:dict)</code></pre>
</blockquote>
<p>The long run average payoffs for the DSAIR game with peer punishment.</p>
<table class="table">
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>models</td>
<td>dict</td>
<td>A dictionary containing the items in <a href="https://PaoloBova.github.io/gh-pages-example/types.html#modeltypedsair"><code>ModelTypeDSAIR</code></a></td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>dict</strong></td>
<td><strong>The <code>models</code> dictionary with added payoff matrix <code>payoffs</code>:</strong></td>
</tr>
</tbody>
</table>
</section>
<section id="expressions-for-the-sanctioner-and-punished-payoffs" class="level3">
<h3 class="anchored" data-anchor-id="expressions-for-the-sanctioner-and-punished-payoffs">Expressions for the sanctioner and punished payoffs</h3>
<p>For convenience we denote a number of new variables to simplify the expressions for the sanctioner and punished payoffs.</p>
<p><span class="math display">\[\begin{equation}
\text{sanctioner payoff} = \frac{1}{R} (\pi AB + B_s + (R-1) (b_s - c))\\
\end{equation}\]</span></p>
<p><span class="math display">\[\begin{equation}
\text{punished payoff} = \frac{p_{punish}}{R} (πBA + B_p + (R-1) b_p)\\
\end{equation}\]</span></p>
<p><em>Note: In a model where we suffer a collective risk of an AI disaster if the winner is unsafe, payoffs for firms who play safe when facing an unsafe firm are also multiplied by <span class="math inline">\(p_{punish}\)</span>.</em></p>
<p>We can read the above payoffs as telling us the average payoffs over the R rounds of the race for each firm, assuming the punishment is levied at the end of the first round and the remaining <span class="math inline">\(R - 1\)</span> rounds are played with the punishment in effect.</p>
<p>Note that <span class="math inline">\(s_{\beta}\)</span> denotes the new speed of the firm who is punished and <span class="math inline">\(s_{\alpha}\)</span> as the speed of the firm who levies the punishment.</p>
<p>Below we denote the four possible outcomes (ignoring disaster) of a race between a sanctioner and a punished firm:</p>
<p><span class="math display">\[\begin{equation}
\text{punished wins} = (s_{\beta} &gt; 0) \, \&amp; \, (\frac{W-s}{s_{\beta}} &lt;= \frac{W-1}{s_{\alpha}})
\end{equation}\]</span></p>
<p><span class="math display">\[\begin{equation}
\text{sanctioner wins} = (s_{\alpha} &gt; 0) \, \&amp; \, (\frac{W-1}{s_{\alpha}} &lt;= \frac{W-s}{s_{\beta}})
\end{equation}\]</span></p>
<p><span class="math display">\[\begin{equation}
\text{draw} = (s_{\beta} &gt; 0) \, \&amp; \, (\frac{W-s}{s_{\beta}} = \frac{W-1}{s_{\alpha}})
\end{equation}\]</span></p>
<p><span class="math display">\[\begin{equation}
\text{no winner} = (s_{\beta} &lt;= 0)  \, \&amp; \,  (s_{\alpha} &lt;= 0)
\end{equation}\]</span></p>
<p>We can use the above expressions to define the following variables:</p>
<p><span class="math inline">\(p_{punish}\)</span> is the probability of avoiding an AI disaster if a punishment is levied and depends on who wins the race.</p>
<p><span class="math display">\[\begin{equation}
p_{punish} = \begin{cases} 0 &amp; \text{sanctioner wins | no winner} \\
p &amp; otherwise
\end{cases}
\end{equation}\]</span></p>
<p><span class="math inline">\(R\)</span> is the number of rounds that the race lasts for; the race ends when the first firm reaches the finish line.</p>
<p><span class="math display">\[\begin{equation}
R = \begin{cases} \infty &amp; \text{no winner} \\
\frac{W - 1}{s_{\alpha}} &amp; \text{sanctioner wins} \\
\frac{W - s}{s_{\beta}} &amp; \text{punished wins | draw} \\
\end{cases}
\end{equation}\]</span></p>
<p><span class="math inline">\(B_s\)</span> is the prize that the sanctioner receives at the end of the race.</p>
<p><span class="math display">\[\begin{equation}
B_s = \begin{cases} B &amp; \text{sanctioner wins} \\
\frac{B}{2} &amp; \text{draw} \\
0 &amp; otherwise \\
\end{cases}
\end{equation}\]</span></p>
<p><span class="math inline">\(B_p\)</span> is the prize that the punished receives at the end of the race.</p>
<p><span class="math display">\[\begin{equation}
B_p = \begin{cases} B &amp; \text{punished wins} \\
\frac{B}{2} &amp; \text{draw} \\
0 &amp; otherwise \\
\end{cases}
\end{equation}\]</span></p>
<p><span class="math inline">\(b_s\)</span> is the benefit the sanctioner receives each round, they only gain a benefit if their speed is positive but gain the whole benefit if they are the only firm with positive speed.</p>
<p><span class="math display">\[\begin{equation}
b_s = \begin{cases} p_{fo} b + (1-p_{fo}) b \frac{s_{\alpha}}{s_{\alpha} + s_{\beta}} &amp; s_{\alpha}, s_{\beta} &gt; 0\\
b &amp; s_{\alpha} &gt; 0 &gt;= s_{\beta} \\
0 &amp; s_{\alpha} &lt;= 0 \\
\end{cases}
\end{equation}\]</span></p>
<p><span class="math inline">\(b_p\)</span> is the benefit the punished receives each round, they only gain a benefit if their speed is positive but gain the whole benefit if they are the only firm with positive speed.</p>
<p><span class="math display">\[\begin{equation}
b_p = \begin{cases} (1-p_{fo}) b \frac{s_{\beta}}{s_{\alpha} + s_{\beta}} &amp; s_{\alpha}, s_{\beta} &gt; 0\\
b &amp; s_{\beta} &gt; 0 &gt;= s_{\alpha} \\
0 &amp; s_{\beta} &lt;= 0 \\
\end{cases}
\end{equation}\]</span></p>
</section>
</section>
<section id="dsair-payoff-matrix-with-rewards-long-run" class="level2">
<h2 class="anchored" data-anchor-id="dsair-payoff-matrix-with-rewards-long-run">DSAIR Payoff Matrix with rewards (Long Run)</h2>
<p>Denote <span class="math inline">\(\pi\)</span> as one of the short run payoff matrices discussed above with rows and columns indexed by letters A, B, …</p>
<p><strong>Always Safe</strong> and <strong>Always Unsafe</strong> play as they usually do.</p>
<p><strong>Reward Safe</strong> always plays Safe. However, they will pay a cost to reward their co-player if the co-player plays Safe.</p>
<table class="table">
<colgroup>
<col style="width: 52%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th>Strategy</th>
<th>Always Safe</th>
<th>Always Unsafe</th>
<th>Reward Safe</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Always Safe</strong></td>
<td><span class="math display">\[πAA + \frac{B}{2W}\]</span></td>
<td><span class="math display">\[πAB\]</span></td>
<td><span class="math display">\[πAA + \frac{B (1 + s_{\beta})}{W}\]</span></td>
</tr>
<tr class="even">
<td><strong>Always Unsafe</strong></td>
<td><span class="math display">\[p \, (s \frac{B}{W} + πBA)\]</span></td>
<td><span class="math display">\[p \, (s \frac{B}{2W} + πBB)\]</span></td>
<td><span class="math display">\[p \, (s \frac{B}{W} + πBA)\]</span></td>
</tr>
<tr class="odd">
<td><strong>Reward Safe</strong></td>
<td><span class="math display">\[ πAA \]</span></td>
<td><span class="math display">\[ πAB \]</span></td>
<td><span class="math display">\[πAA + \frac{B (1 + s_{\beta} - s_{\alpha})}{2W}\]</span></td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/PaoloBova/gh-pages-example/blob/main/gh_pages_example/payoffs.py#L184" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="payoffs_lr_peer_reward" class="level3">
<h3 class="anchored" data-anchor-id="payoffs_lr_peer_reward">payoffs_lr_peer_reward</h3>
<blockquote class="blockquote">
<pre><code> payoffs_lr_peer_reward (models:dict)</code></pre>
</blockquote>
<p>The long run average payoffs for the DSAIR game with peer punishment.</p>
<table class="table">
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>models</td>
<td>dict</td>
<td>A dictionary containing the items in <a href="https://PaoloBova.github.io/gh-pages-example/types.html#modeltypedsair"><code>ModelTypeDSAIR</code></a></td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>dict</strong></td>
<td><strong>The <code>models</code> dictionary with added payoff matrix <code>payoffs</code>:</strong></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="dsair-payoff-matrix-with-voluntary-commitments-long-run" class="level2">
<h2 class="anchored" data-anchor-id="dsair-payoff-matrix-with-voluntary-commitments-long-run">DSAIR Payoff Matrix with voluntary commitments (Long Run)</h2>
<p>Denote <span class="math inline">\(\pi\)</span> as one of the short run payoff matrices discussed above with rows and columns indexed by letters A, B, …</p>
<p>The strategies below are less obvious than in earlier models. <strong>Always Safe Out</strong> and <strong>Always Unsafe Out</strong> are the same strategies we are used to.</p>
<p><strong>Always Safe In</strong> is willing to form a commitment to play Safe. Otherwise, they will always play Unsafe.</p>
<p><strong>Always Unsafe In</strong> is willing to form a commitment but will violate it by always playing Unsafe. This way, they anticipate that they can encourage other firms to play safe and so pull ahead of them in the race.</p>
<p><strong>Punish Violator</strong> is willing to form a commitment to play Safe. Otherwise, they will always play Unsafe. If the coparty to the commitment violates the commitment by playing Unsafe, then this player pays a cost to levy a punishment on the violator.</p>
<table class="table">
<colgroup>
<col style="width: 40%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th>Strategy</th>
<th>Always Safe Out</th>
<th>Always Unsafe Out</th>
<th>Always Safe In</th>
<th>Always Unsafe In</th>
<th>Punish Violator</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Always Safe Out</strong></td>
<td><span class="math display">\[πAA + \frac{B}{2W}\]</span></td>
<td><span class="math display">\[πAB\]</span></td>
<td><span class="math display">\[πAB\]</span></td>
<td><span class="math display">\[πAB\]</span></td>
<td><span class="math display">\[πAB\]</span></td>
</tr>
<tr class="even">
<td><strong>Always Unsafe Out</strong></td>
<td><span class="math display">\[p \, (s \frac{B}{W} + πBA)\]</span></td>
<td><span class="math display">\[p \, (s \frac{B}{2W} + πBB)\]</span></td>
<td><span class="math display">\[p \, (s \frac{B}{2W} + πBB)\]</span></td>
<td><span class="math display">\[p \, (s \frac{B}{2W} + πBB)\]</span></td>
<td><span class="math display">\[p \, (s \frac{B}{2W} + πBB)\]</span></td>
</tr>
<tr class="odd">
<td><strong>Always Safe In</strong></td>
<td><span class="math display">\[p \, (s \frac{B}{W} + πBA)\]</span></td>
<td><span class="math display">\[p \, (s \frac{B}{2W} + πBB)\]</span></td>
<td><span class="math display">\[πAA + \frac{B}{2W} - \epsilon\]</span></td>
<td><span class="math display">\[πAB - \epsilon\]</span></td>
<td><span class="math display">\[πAA + \frac{B}{2W} - \epsilon\]</span></td>
</tr>
<tr class="even">
<td><strong>Always Unsafe In</strong></td>
<td><span class="math display">\[p \, (s \frac{B}{W} + πBA)\]</span></td>
<td><span class="math display">\[p \, (s \frac{B}{2W} + πBB)\]</span></td>
<td><span class="math display">\[p \, (s \frac{B}{W} + πBA) - \epsilon\]</span></td>
<td><span class="math display">\[p \, (s \frac{B}{2W} + πBB) - \epsilon\]</span></td>
<td>punished_payoff - ϵ</td>
</tr>
<tr class="odd">
<td><strong>Punish Violator</strong></td>
<td><span class="math display">\[p \, (s \frac{B}{W} + πBA)\]</span></td>
<td><span class="math display">\[p \, (s \frac{B}{2W} + πBB)\]</span></td>
<td><span class="math display">\[πAA + \frac{B}{2W} - \epsilon\]</span></td>
<td>sanctioner_payoff - ϵ</td>
<td><span class="math display">\[πAA + \frac{B}{2W} - \epsilon\]</span></td>
</tr>
</tbody>
</table>
<p>The punished and sanctioner payoffs above are exactly the same as in the model with punishments above, so I do not repeat this here.</p>
<hr>
<p><a href="https://github.com/PaoloBova/gh-pages-example/blob/main/gh_pages_example/payoffs.py#L213" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="payoffs_lr_voluntary" class="level3">
<h3 class="anchored" data-anchor-id="payoffs_lr_voluntary">payoffs_lr_voluntary</h3>
<blockquote class="blockquote">
<pre><code> payoffs_lr_voluntary (models:dict)</code></pre>
</blockquote>
<p>The long run average payoffs for the DSAIR game with voluntary commitments.</p>
<table class="table">
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>models</td>
<td>dict</td>
<td>A dictionary containing the items in <a href="https://PaoloBova.github.io/gh-pages-example/types.html#modeltypedsair"><code>ModelTypeDSAIR</code></a></td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>dict</strong></td>
<td><strong>The <code>models</code> dictionary with added payoff matrix <code>payoffs</code>:</strong></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="dsair-payoff-matrix-long-run-with-collective-risk" class="level2">
<h2 class="anchored" data-anchor-id="dsair-payoff-matrix-long-run-with-collective-risk">DSAIR Payoff Matrix (Long Run) with collective risk</h2>
<p>Denote <span class="math inline">\(\pi\)</span> as one of the short run payoff matrices discussed above with rows and columns indexed by letters A, B, …</p>
<table class="table">
<colgroup>
<col style="width: 62%">
<col style="width: 18%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Strategy</th>
<th>Always Safe</th>
<th>Always Unsafe</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Always Safe</strong></td>
<td><span class="math display">\[πAA + \frac{B}{2W}\]</span></td>
<td><span class="math display">\[p \, πAB\]</span></td>
</tr>
<tr class="even">
<td><strong>Always Unsafe</strong></td>
<td><span class="math display">\[p \, (s \frac{B}{W} + πBA)\]</span></td>
<td><span class="math display">\[p^2 \, (s \frac{B}{2W} + πBB)\]</span></td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> payoffs_lr_collective(models:<span class="bu">dict</span>, <span class="co"># A dictionary containing the items in `ModelTypeDSAIR`</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>              ) <span class="op">-&gt;</span> <span class="bu">dict</span> : <span class="co"># The `models` dictionary with added payoff matrix `payoffs`:</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Long run average payoffs for the DSAIR model with collective risk."""</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># All 1D arrays must be promoted to 3D Arrays for broadcasting</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    s,b,c, p, B, W <span class="op">=</span> [models[k][:, <span class="va">None</span>, <span class="va">None</span>]</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>                      <span class="cf">for</span> k <span class="kw">in</span> [<span class="st">'s'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>, <span class="st">'p'</span>, <span class="st">'B'</span>, <span class="st">'W'</span>]]</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    risk_shared <span class="op">=</span> models[<span class="st">"collective_risk"</span>][:, <span class="va">None</span>, <span class="va">None</span>]</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    πAA,πAB,πBA,πBB <span class="op">=</span> [models[<span class="st">'payoffs_sr'</span>][:, i:i<span class="op">+</span><span class="dv">1</span>, j:j<span class="op">+</span><span class="dv">1</span>]</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>                       <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>) <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>)]</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    πAA <span class="op">=</span> πAA <span class="op">+</span> B<span class="op">/</span>(<span class="dv">2</span><span class="op">*</span>W)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    πAB <span class="op">=</span> πAB <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> (<span class="dv">1</span><span class="op">-</span>p)<span class="op">*</span>risk_shared)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    πBA <span class="op">=</span> p<span class="op">*</span>(s<span class="op">*</span>B<span class="op">/</span>W <span class="op">+</span> πBA)</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    πBB <span class="op">=</span> p<span class="op">*</span>(s<span class="op">*</span>B<span class="op">/</span>(<span class="dv">2</span><span class="op">*</span>W) <span class="op">+</span> πBB) <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> (<span class="dv">1</span><span class="op">-</span>p)<span class="op">*</span>risk_shared)</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    matrix <span class="op">=</span> np.block([[πAA, πAB],</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>                       [πBA, πBB]])</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {<span class="op">**</span>models, <span class="st">'payoffs'</span>:matrix}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>